{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  users: [],\n  filteredUsers: [],\n  filters: {\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    phone: \"\"\n  },\n  status: \"idle\",\n  error: null\n};\n\n// Fetch users from API\nexport const fetchUsers = createAsyncThunk(\"users/fetchUsers\", async () => {\n  const response = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n  return response.data;\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    setFilter(state, action) {\n      state.filters[action.payload.key] = action.payload.value;\n      state.filteredUsers = state.users.filter(user => Object.keys(state.filters).every(key => user[key].toString().toLowerCase().includes(state.filters[key].toLowerCase())));\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(fetchUsers.pending, state => {\n      state.status = \"loading\";\n    }).addCase(fetchUsers.fulfilled, (state, action) => {\n      state.status = \"succeeded\";\n      state.users = action.payload;\n      state.filteredUsers = action.payload;\n    }).addCase(fetchUsers.rejected, (state, action) => {\n      state.status = \"failed\";\n      state.error = action.error.message || \"Failed to fetch users\";\n    });\n  }\n});\nexport const {\n  setFilter\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","users","filteredUsers","filters","name","username","email","phone","status","error","fetchUsers","response","get","data","usersSlice","reducers","setFilter","state","action","payload","key","value","filter","user","Object","keys","every","toString","toLowerCase","includes","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["C:/Users/Sa4ok/MATE/Smart-task/src/app/usersSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\ninterface User {\n  id: number;\n  name: string;\n  username: string;\n  email: string;\n  phone: string;\n}\n\ninterface UsersState {\n  users: User[];\n  filteredUsers: User[];\n  filters: {\n    name: string;\n    username: string;\n    email: string;\n    phone: string;\n  };\n  status: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n  error: string | null;\n}\n\nconst initialState: UsersState = {\n  users: [],\n  filteredUsers: [],\n  filters: {\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    phone: \"\",\n  },\n  status: \"idle\",\n  error: null,\n};\n\n// Fetch users from API\nexport const fetchUsers = createAsyncThunk(\"users/fetchUsers\", async () => {\n  const response = await axios.get(\n    \"https://jsonplaceholder.typicode.com/users\"\n  );\n  return response.data as User[];\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    setFilter(\n      state,\n      action: PayloadAction<{ key: keyof UsersState[\"filters\"]; value: string }>\n    ) {\n      state.filters[action.payload.key] = action.payload.value;\n      state.filteredUsers = state.users.filter((user) =>\n        Object.keys(state.filters).every((key) =>\n          user[key as keyof User]\n            .toString()\n            .toLowerCase()\n            .includes(\n              state.filters[key as keyof UsersState[\"filters\"]].toLowerCase()\n            )\n        )\n      );\n    },\n  },\n  extraReducers(builder) {\n    builder\n      .addCase(fetchUsers.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(fetchUsers.fulfilled, (state, action: PayloadAction<User[]>) => {\n        state.status = \"succeeded\";\n        state.users = action.payload;\n        state.filteredUsers = action.payload;\n      })\n      .addCase(fetchUsers.rejected, (state, action) => {\n        state.status = \"failed\";\n        state.error = action.error.message || \"Failed to fetch users\";\n      });\n  },\n});\n\nexport const { setFilter } = usersSlice.actions;\nexport default usersSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAuB,kBAAkB;AAC/E,OAAOC,KAAK,MAAM,OAAO;AAuBzB,MAAMC,YAAwB,GAAG;EAC/BC,KAAK,EAAE,EAAE;EACTC,aAAa,EAAE,EAAE;EACjBC,OAAO,EAAE;IACPC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC;EACDC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAGZ,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzE,MAAMa,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAC9B,4CACF,CAAC;EACD,OAAOD,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAGjB,WAAW,CAAC;EAC7BO,IAAI,EAAE,OAAO;EACbJ,YAAY;EACZe,QAAQ,EAAE;IACRC,SAASA,CACPC,KAAK,EACLC,MAA0E,EAC1E;MACAD,KAAK,CAACd,OAAO,CAACe,MAAM,CAACC,OAAO,CAACC,GAAG,CAAC,GAAGF,MAAM,CAACC,OAAO,CAACE,KAAK;MACxDJ,KAAK,CAACf,aAAa,GAAGe,KAAK,CAAChB,KAAK,CAACqB,MAAM,CAAEC,IAAI,IAC5CC,MAAM,CAACC,IAAI,CAACR,KAAK,CAACd,OAAO,CAAC,CAACuB,KAAK,CAAEN,GAAG,IACnCG,IAAI,CAACH,GAAG,CAAe,CACpBO,QAAQ,CAAC,CAAC,CACVC,WAAW,CAAC,CAAC,CACbC,QAAQ,CACPZ,KAAK,CAACd,OAAO,CAACiB,GAAG,CAAgC,CAACQ,WAAW,CAAC,CAChE,CACJ,CACF,CAAC;IACH;EACF,CAAC;EACDE,aAAaA,CAACC,OAAO,EAAE;IACrBA,OAAO,CACJC,OAAO,CAACtB,UAAU,CAACuB,OAAO,EAAGhB,KAAK,IAAK;MACtCA,KAAK,CAACT,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDwB,OAAO,CAACtB,UAAU,CAACwB,SAAS,EAAE,CAACjB,KAAK,EAAEC,MAA6B,KAAK;MACvED,KAAK,CAACT,MAAM,GAAG,WAAW;MAC1BS,KAAK,CAAChB,KAAK,GAAGiB,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACf,aAAa,GAAGgB,MAAM,CAACC,OAAO;IACtC,CAAC,CAAC,CACDa,OAAO,CAACtB,UAAU,CAACyB,QAAQ,EAAE,CAAClB,KAAK,EAAEC,MAAM,KAAK;MAC/CD,KAAK,CAACT,MAAM,GAAG,QAAQ;MACvBS,KAAK,CAACR,KAAK,GAAGS,MAAM,CAACT,KAAK,CAAC2B,OAAO,IAAI,uBAAuB;IAC/D,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEpB;AAAU,CAAC,GAAGF,UAAU,CAACuB,OAAO;AAC/C,eAAevB,UAAU,CAACwB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}